# 📢 음악 플레이어

---
## 📌 개요
- 백그라운드에서 기능 실행
- 음원 재생
- 디바이스 이벤트 캐치(네트워크 상태 변경, 전원 연결, 배터리 사용량 체크 등)

---
## 💪🏻 학습 목표
- 백그라운드에서 앱의 기능을 사용하고, 디바이스 이벤트를 캐치할 수 있다.
  - MediaPlayer를 이용해 음원 재생
  - Service를 이용해 음원 재생
  - Notification에 음원 컨트롤러 제공
  - BroadcastReceiver를 이용해 LOW_BATTERY 이벤트 캐치

- Anroid
  - MediaPlayer
  - Service
  - Notification
    - PendingIntent
    - Intent flag
  - BroadcastReceiver

---
## 서비스 개요
- 백그라운드에서 오래 실행되는 작업을 수생할 수 있는 애플리케이션 구성 요소이며 사용자 인터페이스를 제공하지 않음
- 다른 애플리케이션 구성 요소가 서비스를 시작할 수 있으며, 이는 사용자가 다른 애플리케이션으로 전환하더라도 백그라운드에서 계속해서 실행됨
- 이외에도, 구성 요소를 서비스에 바인딩하여 서비스와 상호작용할 수 있으며, 심지어는 프로세스 간 통신(IPC)도 수행할 수 있음
  - 예를 들어 한 서비스는 네트워크 트랜잭션을 처리하고, 음악을 재생하고 파일 I/O를 수행하거나 콘텐츠 제공자와 상호작용할 수 있으며 이 모든 것을 백그라운드에서 수행할 수 있음

## ❗️ 서비스의 유형
- 포그라운드
  - 사용자에게 잘 보이는 몇몇 작업을 수행
  - 예를 들어 오디오 앱이라면 오디오 트랙을 재생할 때 포그라운드 서비스를 사용함 
  - 포그라운드 서비스는 알림(Notificaiton)을 표시해야 함
  - 포그라운드 서비스는 사용자가 앱과 상호작용하지 않을 때도 계속 실행됨
  
  <br>

- 백그라운드
  - 사용자에게 직접 보이지 않는 작업을 수행
  - 어느 앱이 저장소를 압축하는 데 서비스를 사용했다면 이것은 대개 백그라운드 서비스임
  - **참고** : 앱이 API 레벨 26 이상을 대상으로 한다면 앱이 포그라운드에 있지 않을 때 시스템에서 백그라운드 서비스 실행에 대한 제한을 적용함
    - 이와 같은 경우에서는 대부분 앱이 예약된 작업을 사용해야 함

<br>

- 바인드
  - 애플리케이션 구성 요소가 bindService()를 호출하여 해당 서비스에 바인딩되면 서비스가 바인딩됨
  - 바인딩된 서비스는 클라이언트-서버 인터페이스를 제공하여 구성 요소가 서비스와 상호작용하게 하며, 결과를 받을 수도 있고 심지어 이와 같은 작업을 여러 프로세스에 걸쳐 프로세스 간 통신(IPC)으로 수행할 수도 있음
  - 바인딩된 서비스는 또 다른 애플리케이션 구성 요소가 이에 바인딩되어 있는 경우에만 실행됨
  - 여러 개의 구성 요소가 서비스에 한꺼번에 바인딩될 수 있지만, 이 모든 것에서 바인딩이 해제되면 해당 서비스는 소멸됨

---
## ❗️ 브로드캐스트 개요
- Android 앱은 Android 시스템 및 기타 Android 앱에서 게시-구독 디자인 패턴과 유사한 브로드캐스트 메시지를 받거나 보낼 수 있음
- 관심 있는 이벤트가 발생할 때 이러한 브로드캐스트가 전송됨
  - 예를 들어 Android 시스템은 시스템 부팅 또는 기기 충전 시작과 같은 다양한 시스템 이벤트가 발생할 때 브로드캐스트를 전송함
  - 또한 앱은 맞춤 브로드캐스트를 전송하여 다른 앱이 관심을 가질만한 사항(예: 일부 새로운 데이터가 다운로드 됨)을 관련 앱에 알릴 수 있음

--- 
## 🚶🏻 한 걸음 더 
- 안드로이드의 4대 컴포넌트에 대해 복습해보기